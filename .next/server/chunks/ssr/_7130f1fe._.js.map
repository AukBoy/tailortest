{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/dashboard/actions.ts"],"sourcesContent":["'use server'\n\nimport { createClient } from \"@/lib/supabase/server\"\nimport { revalidatePath } from \"next/cache\"\nimport { redirect } from \"next/navigation\"\n\nexport async function logout() {\n    const supabase = createClient()\n    await supabase.auth.signOut()\n    redirect('/login')\n}\n\nexport async function createCustomer(formData: FormData) {\n    const supabase = createClient();\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (!user) {\n        return { error: 'You must be logged in to create a customer.' };\n    }\n\n    const customerData = {\n        name: formData.get('name') as string,\n        nic: formData.get('nic') as string,\n        contact: formData.get('contact') as string,\n        order_history: formData.get('orderHistory') as string,\n        preferences: formData.get('preferences') as string,\n        user_id: user.id\n    };\n\n    const { data: newCustomer, error } = await supabase\n        .from('customers')\n        .insert(customerData)\n        .select()\n        .single();\n    \n    if (error) {\n        console.error('Error creating customer:', error);\n        return { error: error.message };\n    }\n\n    revalidatePath('/dashboard');\n    redirect(`/dashboard/customer/${newCustomer.id}`);\n}\n\nexport async function updateCustomer(customerId: string, formData: FormData) {\n    const supabase = createClient();\n\n    const customerData = {\n        name: formData.get('name') as string,\n        nic: formData.get('nic') as string,\n        contact: formData.get('contact') as string,\n        order_history: formData.get('orderHistory') as string,\n        preferences: formData.get('preferences') as string,\n    };\n\n    const { error } = await supabase\n        .from('customers')\n        .update(customerData)\n        .eq('id', customerId);\n\n    if (error) {\n        console.error('Error updating customer:', error);\n        return { error: error.message };\n    }\n\n    revalidatePath(`/dashboard/customer/${customerId}`);\n    revalidatePath('/dashboard');\n    return { success: true };\n}"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAAA;;;;;;;AAEO,eAAe;IAClB,MAAM,WAAW,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD;IAC5B,MAAM,SAAS,IAAI,CAAC,OAAO;IAC3B,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;AACb;AAEO,eAAe,eAAe,QAAkB;IACnD,MAAM,WAAW,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD;IAC5B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAEtD,IAAI,CAAC,MAAM;QACP,OAAO;YAAE,OAAO;QAA8C;IAClE;IAEA,MAAM,eAAe;QACjB,MAAM,SAAS,GAAG,CAAC;QACnB,KAAK,SAAS,GAAG,CAAC;QAClB,SAAS,SAAS,GAAG,CAAC;QACtB,eAAe,SAAS,GAAG,CAAC;QAC5B,aAAa,SAAS,GAAG,CAAC;QAC1B,SAAS,KAAK,EAAE;IACpB;IAEA,MAAM,EAAE,MAAM,WAAW,EAAE,KAAK,EAAE,GAAG,MAAM,SACtC,IAAI,CAAC,aACL,MAAM,CAAC,cACP,MAAM,GACN,MAAM;IAEX,IAAI,OAAO;QACP,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;YAAE,OAAO,MAAM,OAAO;QAAC;IAClC;IAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;IACf,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE,CAAC,oBAAoB,EAAE,YAAY,EAAE,EAAE;AACpD;AAEO,eAAe,eAAe,UAAkB,EAAE,QAAkB;IACvE,MAAM,WAAW,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD;IAE5B,MAAM,eAAe;QACjB,MAAM,SAAS,GAAG,CAAC;QACnB,KAAK,SAAS,GAAG,CAAC;QAClB,SAAS,SAAS,GAAG,CAAC;QACtB,eAAe,SAAS,GAAG,CAAC;QAC5B,aAAa,SAAS,GAAG,CAAC;IAC9B;IAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACnB,IAAI,CAAC,aACL,MAAM,CAAC,cACP,EAAE,CAAC,MAAM;IAEd,IAAI,OAAO;QACP,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;YAAE,OAAO,MAAM,OAAO;QAAC;IAClC;IAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE,CAAC,oBAAoB,EAAE,YAAY;IAClD,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;IACf,OAAO;QAAE,SAAS;IAAK;AAC3B;;;IA9DsB;IAMA;IAgCA;;AAtCA,+OAAA;AAMA,+OAAA;AAgCA,+OAAA","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {logout as '00fed4b124cc9093e89869387acc0637e6ef9c0fce'} from 'ACTIONS_MODULE0'\nexport {createCustomer as '408e455e5f06d4af621722ab0380e386a35fb2e7ac'} from 'ACTIONS_MODULE0'\nexport {updateCustomer as '608d842bd55f5402fe9e4baf9e34ba1b8597c8fa53'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/customer-list.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CustomerList = registerClientReference(\n    function() { throw new Error(\"Attempted to call CustomerList() from the server but CustomerList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/customer-list.tsx <module evaluation>\",\n    \"CustomerList\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,kEACA","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/customer-list.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CustomerList = registerClientReference(\n    function() { throw new Error(\"Attempted to call CustomerList() from the server but CustomerList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/customer-list.tsx\",\n    \"CustomerList\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,8CACA","debugId":null}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/dashboard/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase/server';\nimport { redirect } from 'next/navigation';\nimport type { Customer } from '@/lib/types';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport Link from 'next/link';\nimport { PlusCircle, User, Search, FileText, Phone, Users, LogOut } from 'lucide-react';\nimport { logout } from './actions';\nimport { CustomerList } from '@/components/customer-list';\n\nexport default async function DashboardPage() {\n  const supabase = createClient();\n  const { data: { user } } = await supabase.auth.getUser();\n\n  if (!user) {\n    return redirect('/login');\n  }\n\n  const { data: customers, error } = await supabase\n    .from('customers')\n    .select(`\n      id,\n      name,\n      nic,\n      contact,\n      created_at,\n      order_history,\n      preferences,\n      user_id,\n      measurement_sets (\n        id,\n        job_number,\n        order_status\n      )\n    `)\n    .eq('user_id', user.id)\n    .order('created_at', { ascending: false });\n\n  if (error) {\n    console.error('Error fetching customers:', error);\n    // You might want to show an error message to the user\n  }\n  \n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n        <div>\n            <h1 className=\"text-3xl lg:text-4xl font-headline font-bold\">Customer Dashboard</h1>\n            <p className=\"text-muted-foreground mt-1\">Search, view, and manage your customers.</p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button asChild>\n            <Link href=\"/dashboard/new\">\n              <PlusCircle className=\"mr-2 h-4 w-4\" /> Add New Customer\n            </Link>\n          </Button>\n           <form action={logout}>\n            <Button variant=\"outline\" type=\"submit\">\n              <LogOut className=\"mr-2 h-4 w-4\" /> Logout\n            </Button>\n          </form>\n        </div>\n      </div>\n      <CustomerList customers={customers as Customer[] || []} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD;IAC5B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAEtD,IAAI,CAAC,MAAM;QACT,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IAClB;IAEA,MAAM,EAAE,MAAM,SAAS,EAAE,KAAK,EAAE,GAAG,MAAM,SACtC,IAAI,CAAC,aACL,MAAM,CAAC,CAAC;;;;;;;;;;;;;;IAcT,CAAC,EACA,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAE1C,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,6BAA6B;IAC3C,sDAAsD;IACxD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACG,8OAAC;gCAAG,WAAU;0CAA+C;;;;;;0CAC7D,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAE9C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,kIAAA,CAAA,SAAM;gCAAC,OAAO;0CACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;;sDACT,8OAAC,kNAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;0CAG1C,8OAAC;gCAAK,QAAQ,kIAAA,CAAA,SAAM;0CACnB,cAAA,8OAAC,kIAAA,CAAA,SAAM;oCAAC,SAAQ;oCAAU,MAAK;;sDAC7B,8OAAC,0MAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;;;;;;0BAK3C,8OAAC,sIAAA,CAAA,eAAY;gBAAC,WAAW,aAA2B,EAAE;;;;;;;;;;;;AAG5D","debugId":null}}]
}